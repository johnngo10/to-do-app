(()=>{"use strict";const e=()=>{localStorage.setItem("myTasks",JSON.stringify(l.myTasks))},t=()=>{localStorage.setItem("myProjects",JSON.stringify(l.myProjects))},n=t=>{t.preventDefault();const n=document.getElementById("create-task-title").value,d=document.getElementById("create-task-description").value,a=document.getElementById("create-task-date").value,i=document.getElementById("create-task-project").value;function c(){return Math.floor(4096*(1+Math.random())).toString(16).substring(1)}const r=c()+"-"+c()+"-"+c(),s={id:r,title:n,description:d,dueDate:a,project:i,checked:!1};l.addTask.insertAdjacentHTML("beforebegin",`\n    <div class="task" data-id="${s.id}">\n      <div class="task-group">\n        <input type="checkbox" class="checkbox" />\n        <p class="task-name">${s.title}</p>\n      </div>\n      <div class="button-date-group">\n        <div class="task-buttons">\n          <i class="far fa-edit edit-task-button"></i>\n          <i class="far fa-trash-alt"></i>\n        </div>\n        <p class="due-date">${s.dueDate}</p>\n      </div>\n    </div>\n  `),l.addToTaskArr(s),l.trashHandler(),l.viewTaskHandler(),l.checkHandler(),l.editTaskHandler(),e(),l.createTaskModal.style.display="none"},d=()=>{const e=document.getElementById("add-project-input-container"),n=document.getElementById("add-project");let d=document.getElementById("add-project-input").value;function a(){return Math.floor(4096*(1+Math.random())).toString(16).substring(1)}const i=a()+"-"+a()+"-"+a(),c={id:i,title:d};e.insertAdjacentHTML("beforebegin",`\n    <div class="project-group" data-index="${c.id}">\n      <h3 class="project">${c.title}</h3>\n      <div class="task-buttons">\n        <i class="far fa-edit"></i>\n        <i class="far fa-trash-alt delete-project"></i>\n      </div>\n    </div>\n    `),e.style.display="none",n.style.display="flex",l.addToProjectArr(c),t(),l.projectTrashHandler(),l.projectHandler(),console.log(l.myProjects)},a=e=>{e.preventDefault(),document.getElementById("content");const t=document.getElementById("edit-task-modal"),n=document.getElementById("edit-task-title"),d=document.getElementById("edit-task-description"),a=document.getElementById("edit-task-date"),i=document.getElementById("edit-task-project"),c=(document.getElementById("edit-task-form"),document.getElementById("cancel-edit-button")),r=(document.getElementById("submit-edit-button"),e.target.parentElement.parentElement.parentElement.parentElement.getAttribute("data-id")),s=l.myTasks.filter((e=>e.id===r));t.style.display="flex",n.value=s[0].title,d.value=s[0].description,a.value=s[0].dueDate,i.value=s[0].project,c.addEventListener("click",(e=>{e.preventDefault(),t.style.display="none"}))},i=t=>{const n=t.target.parentElement.parentElement.parentElement.parentElement,d=n.getAttribute("data-id");l.removeTaskFromArr(d),e(),n.remove()},c=e=>{const t=document.getElementById("view-task-title"),n=document.getElementById("view-task-description"),d=document.getElementById("view-due-date"),a=document.getElementById("view-project"),i=e.target.parentElement.parentElement.getAttribute("data-id"),c=l.myTasks.filter((e=>e.id===i));t.textContent=c[0].title,n.textContent=c[0].description,d.textContent=`Due Date: ${c[0].dueDate}`,a.textContent=`Project: ${c[0].project}`;const r=document.getElementById("view-task-modal");r.style.display="flex",document.getElementById("view-cancel-button").addEventListener("click",(e=>{r.style.display="none"}))},r=()=>{const e=document.querySelectorAll(".checkbox");for(let t=0;t<e.length;t++)e[t].checked?e[t].parentElement.parentElement.classList.add("complete"):e[t].parentElement.parentElement.classList.remove("complete")},s=e=>{const n=e.target.parentElement.parentElement,d=n.getAttribute("data-id");l.removeProjectFromArr(d),n.remove(),t()},o=t=>{const n=t.target.textContent.toLowerCase(),d=l.myTasks,a=document.querySelectorAll(".task"),i=document.getElementById("add-task"),c=[],s=()=>{const t=document.querySelectorAll(".checkbox");for(let n=0;n<t.length;n++)t[n].addEventListener("click",(t=>{const n=t.target,d=n.parentElement.parentElement,a=!!n.checked&&"checked",i=d.getAttribute("data-id");for(let e=0;e<c.length;e++)c[e].id===i&&(c[e].checked=a);e(),r()}))};for(let e=0;e<a.length;e++)a[e].remove();for(let e=0;e<d.length;e++)d[e].project.toLowerCase()===n&&c.push(d[e]);for(let e=0;e<c.length;e++)i.insertAdjacentHTML("beforebegin",`\n      <div class="task" data-id="${c[e].id}">\n        <div class="task-group">\n          <input type="checkbox" class="checkbox" ${c[e].checked}/>\n          <p class="task-name">${c[e].title}</p>\n        </div>\n        <div class="button-date-group">\n          <div class="task-buttons">\n            <div>\n              <i class="far fa-edit edit-task-button"></i>\n            </div>\n            <div>\n              <i class="far fa-trash-alt"></i>\n            </div>\n          </div>\n          <p class="due-date">${c[e].dueDate}</p>\n        </div>\n      </div>\n    `),s(),r();l.trashHandler(),l.viewTaskHandler(),l.editTaskHandler()},l=(()=>{document.getElementById("content").innerHTML='\n  <main id="main">\n    <div id="col-1">\n      <div id="project-container">\n        <div id="project-header">\n          <h3>Projects</h3>\n        </div>\n        <div class="project-group">\n          <h3 id="all-project">All</h3>\n        </div>\n        <div id="add-project-input-container">\n          <input type="text" id="add-project-input" />\n          <div class="task-buttons">\n            <i class="fas fa-check"></i>\n            <i class="fas fa-ban"></i>\n          </div>\n        </div>\n        <div id="add-project">\n          <p id="plus">&#x2B;</p>\n          <p id="add-project-text">Add Project</p>\n        </div>\n      </div>\n    </div>\n    <div id="col-2">\n      <div id="task-container">\n        <div id="task-header">\n          <p>Task</p>\n          <p>Due Date</p>\n        </div>\n        <div id="add-task">\n          <p id="plus">&#x2B;</p>\n          <p id="add-task-text">Add Task</p>\n        </div>\n      </div>\n    </div>\n  </main>\n  <div id="create-task-modal">\n    <form action="#" id="create-task-form">\n      <div id="create-task-group-1">\n        <input type="text" placeholder="Add a task" required id="create-task-title" name="title"/>\n        <textarea\n          name="description"\n          id="create-task-description"\n          placeholder="Description"\n        ></textarea>\n      </div>\n      <div id="create-task-group-2">\n        <input type="date" id="create-task-date" name="date" required />\n        <input type="text" id="create-task-project" />\n      </div>\n      <div id="create-task-group-3">\n        <button id="cancel-button">Cancel</button>\n        <input type="submit" id="submit-button" />\n      </div>\n    </form>\n  </div>\n  <div id="view-task-modal">\n    <div id="view-task-container">\n      <p id="view-task-title"></p>\n      <p id="view-task-description"></p>\n      <div id="view-task-date-project">\n        <p id="view-due-date">Due Date:</p>\n        <p id="view-project">Project:</p>\n      </div>\n      <div id="create-task-group-3">\n        <button id="view-cancel-button">Cancel</button>\n        <input type="submit" id="edit-button" value="Edit" />\n      </div>\n    </div>\n  </div>\n  <div id="edit-task-modal">\n    <form action="#" id="edit-task-form">\n      <div id="edit-task-group-1">\n        <input type="text" placeholder="Add a task" required id="edit-task-title" name="title" />\n        <textarea\n          name="description"\n          id="edit-task-description"\n          placeholder="Description"\n        ></textarea>\n      </div>\n      <div id="edit-task-group-2">\n        <input type="date" id="edit-task-date" name="date" required />\n        <input type="text" id="edit-task-project"/>\n      </div>\n      <div id="create-task-group-3">\n        <button id="cancel-edit-button">Cancel</button>\n        <input type="submit" id="submit-edit-button" />\n      </div>\n    </form>\n  </div>\n  ';const t=document.getElementById("add-project"),n=document.getElementById("add-task"),d=document.getElementById("create-task-modal"),l=document.getElementById("cancel-button"),u=document.getElementById("create-task-form"),p=document.getElementById("create-task-title").value,m=document.getElementById("create-task-description").value,k=document.getElementById("create-task-date").value,v=document.getElementById("create-task-project").value,g=document.getElementById("add-project-input-container"),y=document.getElementById("edit-task-form"),f=document.getElementById("cancel-edit-button");let E=[],h=[];const b=()=>{for(let e=0;e<E.length;e++)n.insertAdjacentHTML("beforebegin",`\n        <div class="task" data-id="${E[e].id}">\n          <div class="task-group">\n            <input type="checkbox" class="checkbox" ${E[e].checked}/>\n            <p class="task-name">${E[e].title}</p>\n          </div>\n          <div class="button-date-group">\n            <div class="task-buttons">\n              <div>\n                <i class="far fa-edit edit-task-button"></i>\n              </div>\n              <div>\n                <i class="far fa-trash-alt"></i>\n              </div>\n            </div>\n            <p class="due-date">${E[e].dueDate}</p>\n          </div>\n        </div>\n      `)},j=()=>{const e=document.querySelectorAll(".project");document.getElementById("all-project").addEventListener("click",(e=>{const t=document.querySelectorAll(".task");for(let e=0;e<t.length;e++)t[e].remove();b(),I(),B(),A(),r()}));for(let t=0;t<e.length;t++)e[t].addEventListener("click",o)},T=()=>{const e=document.querySelectorAll(".delete-project");for(let t=0;t<e.length;t++)e[t].addEventListener("click",s)},I=()=>{const e=document.querySelectorAll(".fa-trash-alt");for(let t=0;t<e.length;t++)e[t].addEventListener("click",i)},B=()=>{const e=document.querySelectorAll(".task-name");for(let t=0;t<e.length;t++)e[t].addEventListener("click",c)},A=()=>{const t=document.querySelectorAll(".checkbox");for(let n=0;n<t.length;n++)t[n].addEventListener("click",(t=>{const n=t.target,d=n.parentElement.parentElement,a=!!n.checked&&"checked",i=d.getAttribute("data-id");for(let e=0;e<E.length;e++)E[e].id===i&&(E[e].checked=a);e(),r()}))},x=()=>{const e=document.querySelectorAll(".edit-task-button");for(let t=0;t<e.length;t++)e[t].addEventListener("click",a)};if(localStorage.getItem("myTasks")){const e=JSON.parse(localStorage.getItem("myTasks"));E=e,b(),I(),B(),A(),r(),x()}if(localStorage.getItem("myProjects")){const e=JSON.parse(localStorage.getItem("myProjects"));h=e,(()=>{for(let e=0;e<h.length;e++)g.insertAdjacentHTML("beforebegin",`\n        <div class="project-group" data-id="${h[e].id}">\n          <h3 class="project">${h[e].title}</h3>\n          <div class="task-buttons">\n            <i class="far fa-edit edit-project-button"></i>\n            <i class="far fa-trash-alt delete-project"></i>\n          </div>\n        </div>\n        `)})(),T(),j()}return{addProject:t,addTask:n,createTaskModal:d,cancelButton:l,createTaskForm:u,createTaskTitle:p,createTaskDescription:m,createTaskDate:k,createTaskProject:v,editTaskForm:y,cancelEditButton:f,addToTaskArr:e=>{E.push(e)},addToProjectArr:e=>{h.push(e)},myTasks:E,myProjects:h,removeTaskFromArr:e=>{for(let t=0;t<E.length;t++)E[t].id===e&&E.splice(t,1)},removeProjectFromArr:e=>{for(let t=0;t<h.length;t++)h[t].id===e&&h.splice(t,1)},loadTask:b,trashHandler:I,viewTaskHandler:B,projectTrashHandler:T,projectHandler:j,checkHandler:A,editTaskHandler:x,editTaskInArr:(e,t,n,d,a)=>{for(let i=0;i<E.length;i++)E[i].id===e&&(E[i].id=e,E[i].title=t,E[i].description=n,E[i].dueDate=d,E[i].project=a)}}})();(()=>{const e=document.querySelector(".fa-check"),t=document.querySelector(".fa-ban"),a=document.getElementById("add-project"),i=document.getElementById("add-project-input-container");document.getElementById("edit-task-modal"),l.addTask.addEventListener("click",(e=>{l.createTaskModal.style.display="flex"})),l.cancelButton.addEventListener("click",(e=>{l.createTaskModal.style.display="none"})),l.createTaskForm.addEventListener("submit",n),l.addProject.addEventListener("click",(e=>{i.style.display="flex",a.style.display="none"})),e.addEventListener("click",d),t.addEventListener("click",(e=>{i.style.display="none",a.style.display="flex"}))})()})();