(()=>{"use strict";const e=()=>{localStorage.setItem("myTasks",JSON.stringify(u.myTasks))},t=()=>{localStorage.setItem("myProjects",JSON.stringify(u.myProjects))},n=t=>{t.preventDefault();const n=document.getElementById("create-task-title").value,d=document.getElementById("create-task-description").value,a=document.getElementById("create-task-date").value,i=document.getElementById("create-task-project").value;function l(){return Math.floor(4096*(1+Math.random())).toString(16).substring(1)}const r=l()+"-"+l()+"-"+l(),c={id:r,title:n,description:d,dueDate:a,project:i,checked:!1};u.addTask.insertAdjacentHTML("beforebegin",`\n    <div class="task" data-id="${c.id}">\n      <div class="task-group">\n        <input type="checkbox" class="checkbox" />\n        <p class="task-name">${c.title}</p>\n      </div>\n      <div class="button-date-group">\n        <div class="task-buttons">\n          <div>\n            <i class="far fa-edit edit-task-button"></i>\n          </div>\n          <div>\n            <i class="far fa-trash-alt"></i>\n          </div>\n        </div>\n        <p class="due-date">${c.dueDate}</p>\n      </div>\n    </div>\n  `),u.addToTaskArr(c),u.trashHandler(),u.viewTaskHandler(),u.checkHandler(),u.editTaskHandler(),u.displayTaskButtonsOnHover(),e(),u.createTaskModal.style.display="none"},d=()=>{const e=document.getElementById("add-project-input-container"),n=document.getElementById("add-project");let d=document.getElementById("add-project-input").value;function a(){return Math.floor(4096*(1+Math.random())).toString(16).substring(1)}const i=a()+"-"+a()+"-"+a(),l={id:i,title:d};e.insertAdjacentHTML("beforebegin",`\n    <div class="project-group project-hover" data-id="${l.id}">\n      <h3 class="project">${l.title}</h3>\n      <div class="task-buttons">\n        <i class="far fa-edit edit-project-button"></i>\n        <i class="far fa-trash-alt delete-project"></i>\n      </div>\n    </div>\n    `),e.style.display="none",n.style.display="flex",u.addToProjectArr(l),t(),u.projectTrashHandler(),u.projectHandler(),u.editProjectHandler(),u.displayProjectButtonsOnHover()},a=e=>{const t=document.getElementById("edit-task-modal"),n=document.getElementById("edit-task-title"),d=document.getElementById("edit-task-description"),a=document.getElementById("edit-task-date"),i=document.getElementById("edit-task-project"),l=e.target.parentElement.parentElement.parentElement.parentElement.getAttribute("data-id"),r=JSON.parse(localStorage.getItem("myTasks")).filter((e=>e.id===l));t.style.display="flex",n.value=r[0].title,d.value=r[0].description,a.value=r[0].dueDate,i.value=r[0].project,u.updateEditId(l)},i=t=>{const n=t.target.parentElement.parentElement.parentElement.parentElement,d=n.getAttribute("data-id");u.removeTaskFromArr(d),e(),n.remove()},l=e=>{const t=document.getElementById("view-task-title"),n=document.getElementById("view-task-description"),d=document.getElementById("view-due-date"),a=document.getElementById("view-project"),i=e.target.parentElement.parentElement.getAttribute("data-id"),l=u.myTasks.filter((e=>e.id===i));t.textContent=l[0].title,n.textContent=l[0].description,d.textContent=`Due Date: ${l[0].dueDate}`,a.textContent=`Project: ${l[0].project}`;const r=document.getElementById("view-task-modal");r.style.display="flex",document.getElementById("edit-button").addEventListener("click",(e=>{const t=document.getElementById("edit-task-modal"),n=document.getElementById("edit-task-title"),d=document.getElementById("edit-task-description"),a=document.getElementById("edit-task-date"),c=document.getElementById("edit-task-project");t.style.display="flex",n.value=l[0].title,d.value=l[0].description,a.value=l[0].dueDate,c.value=l[0].project,u.updateEditId(i),r.style.display="none"})),document.getElementById("view-cancel-button").addEventListener("click",(e=>{r.style.display="none"}))},r=()=>{const e=document.querySelectorAll(".checkbox");for(let t=0;t<e.length;t++)e[t].checked?e[t].parentElement.parentElement.classList.add("complete"):e[t].parentElement.parentElement.classList.remove("complete")},c=e=>{const n=e.target.parentElement.parentElement,d=n.getAttribute("data-id");u.removeProjectFromArr(d),n.remove(),t()},o=t=>{const n=t.target.textContent.toLowerCase(),d=u.myTasks,a=document.querySelectorAll(".task"),i=document.getElementById("add-task"),l=[],c=()=>{const t=document.querySelectorAll(".checkbox");for(let n=0;n<t.length;n++)t[n].addEventListener("click",(t=>{const n=t.target,d=n.parentElement.parentElement,a=!!n.checked&&"checked",i=d.getAttribute("data-id");for(let e=0;e<l.length;e++)l[e].id===i&&(l[e].checked=a);e(),r()}))};for(let e=0;e<a.length;e++)a[e].remove();for(let e=0;e<d.length;e++)d[e].project.toLowerCase()===n&&l.push(d[e]);for(let e=0;e<l.length;e++)i.insertAdjacentHTML("beforebegin",`\n      <div class="task" data-id="${l[e].id}">\n        <div class="task-group">\n          <input type="checkbox" class="checkbox" ${l[e].checked}/>\n          <p class="task-name">${l[e].title}</p>\n        </div>\n        <div class="button-date-group">\n          <div class="task-buttons">\n            <div>\n              <i class="far fa-edit edit-task-button"></i>\n            </div>\n            <div>\n              <i class="far fa-trash-alt"></i>\n            </div>\n          </div>\n          <p class="due-date">${l[e].dueDate}</p>\n        </div>\n      </div>\n    `),c(),r();u.trashHandler(),u.viewTaskHandler(),u.editTaskHandler(),u.displayTaskButtonsOnHover()},s=(()=>{document.getElementById("content").innerHTML='\n  <main id="main">\n    <div id="col-1">\n      <div id="project-container">\n        <div id="project-header">\n          <h3>Projects</h3>\n        </div>\n        <div class="project-group-all">\n          <h3 id="all-project">All</h3>\n        </div>\n        <div id="add-project-input-container">\n          <input type="text" id="add-project-input" />\n          <div class="add-project-buttons">\n            <i class="fas fa-check"></i>\n            <i class="fas fa-ban"></i>\n          </div>\n        </div>\n        <div id="add-project">\n          <p id="plus">&#x2B;</p>\n          <p id="add-project-text">Add Project</p>\n        </div>\n      </div>\n    </div>\n    <div id="col-2">\n      <div id="task-container">\n        <div id="task-header">\n          <p>Task</p>\n          <p>Due Date</p>\n        </div>\n        <div id="add-task">\n          <p id="plus">&#x2B;</p>\n          <p id="add-task-text">Add Task</p>\n        </div>\n      </div>\n    </div>\n  </main>\n  <div id="create-task-modal">\n    <form action="#" id="create-task-form">\n      <div id="create-task-group-1">\n        <input type="text" placeholder="Add a task" required id="create-task-title" name="title"/>\n        <textarea\n          name="description"\n          id="create-task-description"\n          placeholder="Description"\n        ></textarea>\n      </div>\n      <div id="create-task-group-2">\n        <input type="date" id="create-task-date" name="date" required />\n        <input type="text" id="create-task-project" />\n      </div>\n      <div id="create-task-group-3">\n        <button id="cancel-button">Cancel</button>\n        <input type="submit" id="submit-button" />\n      </div>\n    </form>\n  </div>\n  <div id="view-task-modal">\n    <div id="view-task-container">\n      <p id="view-task-title"></p>\n      <p id="view-task-description"></p>\n      <div id="view-task-date-project">\n        <p id="view-due-date">Due Date:</p>\n        <p id="view-project">Project:</p>\n      </div>\n      <div id="create-task-group-3">\n        <button id="view-cancel-button">Cancel</button>\n        <input type="submit" id="edit-button" value="Edit" />\n      </div>\n    </div>\n  </div>\n  <div id="edit-task-modal">\n    <form action="#" id="edit-task-form">\n      <div id="edit-task-group-1">\n        <input type="text" placeholder="Add a task" required id="edit-task-title" name="title" />\n        <textarea\n          name="description"\n          id="edit-task-description"\n          placeholder="Description"\n        ></textarea>\n      </div>\n      <div id="edit-task-group-2">\n        <input type="date" id="edit-task-date" name="date" required />\n        <input type="text" id="edit-task-project"/>\n      </div>\n      <div id="create-task-group-3">\n        <button id="cancel-edit-button">Cancel</button>\n        <input type="submit" id="submit-edit-button" />\n      </div>\n    </form>\n  </div>\n  ';const n=document.getElementById("add-project"),d=document.getElementById("add-task"),u=document.getElementById("create-task-modal"),p=document.getElementById("cancel-button"),m=document.getElementById("create-task-form"),v=document.getElementById("create-task-title").value,k=document.getElementById("create-task-description").value,y=document.getElementById("create-task-date").value,g=document.getElementById("create-task-project").value,E=document.getElementById("add-project-input-container"),f=document.getElementById("edit-task-form"),h=document.getElementById("edit-task-modal"),j=document.getElementById("cancel-edit-button");let b,I=[],B=[];const T=()=>{for(let e=0;e<I.length;e++)d.insertAdjacentHTML("beforebegin",`\n        <div class="task" data-id="${I[e].id}">\n          <div class="task-group">\n            <input type="checkbox" class="checkbox" ${I[e].checked}/>\n            <p class="task-name">${I[e].title}</p>\n          </div>\n          <div class="button-date-group">\n            <div class="task-buttons">\n              <div>\n                <i class="far fa-edit edit-task-button"></i>\n              </div>\n              <div>\n                <i class="far fa-trash-alt"></i>\n              </div>\n            </div>\n            <p class="due-date">${I[e].dueDate}</p>\n          </div>\n        </div>\n      `)},x=()=>{const e=document.querySelectorAll(".project");document.getElementById("all-project").addEventListener("click",(e=>{const t=document.querySelectorAll(".task");for(let e=0;e<t.length;e++)t[e].remove();T(),C(),q(),D(),r(),P(),w()}));for(let t=0;t<e.length;t++)e[t].addEventListener("click",o)},A=()=>{const e=document.querySelectorAll(".delete-project");for(let t=0;t<e.length;t++)e[t].addEventListener("click",c)},L=()=>{const e=document.querySelectorAll(".edit-project-button");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(e=>{const t=e.target,n=t.parentElement.parentElement,d=n.getAttribute("data-id"),a=t.parentElement.previousElementSibling.textContent;n.outerHTML=`\n        <div id="edit-project-input-container" data-id="${d}">\n          <input type="text" id="edit-project-input" value="${a}"/>\n          <div class="add-project-buttons">\n            <i class="fas fa-check" id="submit-project-edit"></i>\n            <i class="fas fa-ban" id="exit-project-edit"></i>\n          </div>\n        </div>\n        `,S(d),H(d)}))},S=e=>{const n=document.getElementById("edit-project-input");document.getElementById("submit-project-edit").addEventListener("click",(d=>{((e,t)=>{for(let n=0;n<B.length;n++)B[n].id===e&&(B[n].title=t)})(e,n.value),t(),d.target.parentElement.parentElement.outerHTML=`\n      <div class="project-group project-hover" data-id="${e}">\n        <h3 class="project">${n.value}</h3>\n        <div class="task-buttons">\n          <i class="far fa-edit edit-project-button"></i>\n          <i class="far fa-trash-alt delete-project"></i>\n        </div>\n      </div>\n      `,A(),x(),L(),$()}))},H=e=>{const t=document.getElementById("exit-project-edit"),n=(document.getElementById("edit-project-input-container"),document.querySelector(`[data-id="${e}"]`)),d=JSON.parse(localStorage.getItem("myProjects")).filter((t=>t.id===e));t.addEventListener("click",(t=>{n.outerHTML=`\n      <div class="project-group project-hover" data-id="${e}">\n        <h3 class="project">${d[0].title}</h3>\n        <div class="task-buttons">\n          <i class="far fa-edit edit-project-button"></i>\n          <i class="far fa-trash-alt delete-project"></i>\n        </div>\n      </div>\n      `,A(),x(),L(),$()}))},$=()=>{const e=document.querySelectorAll(".project-hover");for(let t=0;t<e.length;t++)e[t].addEventListener("mouseenter",(e=>{e.target.lastElementChild.style.display="flex"}));for(let t=0;t<e.length;t++)e[t].addEventListener("mouseleave",(e=>{e.target.lastElementChild.style.display="none"}))},C=()=>{const e=document.querySelectorAll(".fa-trash-alt");for(let t=0;t<e.length;t++)e[t].addEventListener("click",i)},q=()=>{const e=document.querySelectorAll(".task-name");for(let t=0;t<e.length;t++)e[t].addEventListener("click",l)},D=()=>{const t=document.querySelectorAll(".checkbox");for(let n=0;n<t.length;n++)t[n].addEventListener("click",(t=>{const n=t.target,d=n.parentElement.parentElement,a=!!n.checked&&"checked",i=d.getAttribute("data-id");for(let e=0;e<I.length;e++)I[e].id===i&&(I[e].checked=a);e(),r()}))};f.addEventListener("submit",(t=>{t.preventDefault();const n=document.getElementById("edit-task-title"),d=document.getElementById("edit-task-description"),a=document.getElementById("edit-task-date"),i=document.getElementById("edit-task-project");s.editTaskInArr(b,n.value,d.value,a.value,i.value),e(),h.style.display="none";for(let e=0;e<I.length;e++)if(I[e].id===b){const e=document.querySelector(`[data-id="${b}"]`),t=e.firstElementChild.lastElementChild,d=e.lastElementChild.lastElementChild;t.textContent=n.value,d.textContent=a.value}}));const P=()=>{const e=document.querySelectorAll(".edit-task-button");for(let t=0;t<e.length;t++)e[t].addEventListener("click",a)},w=()=>{const e=document.querySelectorAll(".task");for(let t=0;t<e.length;t++)e[t].addEventListener("mouseenter",(e=>{e.target.lastElementChild.firstElementChild.style.display="flex"}));for(let t=0;t<e.length;t++)e[t].addEventListener("mouseleave",(e=>{e.target.lastElementChild.firstElementChild.style.display="none"}))};if(localStorage.getItem("myTasks")){const e=JSON.parse(localStorage.getItem("myTasks"));I=e,T(),C(),q(),D(),r(),P(),w()}if(localStorage.getItem("myProjects")){const e=JSON.parse(localStorage.getItem("myProjects"));B=e,(()=>{for(let e=0;e<B.length;e++)E.insertAdjacentHTML("beforebegin",`\n        <div class="project-group project-hover" data-id="${B[e].id}">\n          <h3 class="project">${B[e].title}</h3>\n          <div class="task-buttons">\n            <i class="far fa-edit edit-project-button"></i>\n            <i class="far fa-trash-alt delete-project"></i>\n          </div>\n        </div>\n        `)})(),A(),x(),L(),$()}return{addProject:n,addTask:d,createTaskModal:u,cancelButton:p,createTaskForm:m,createTaskTitle:v,createTaskDescription:k,createTaskDate:y,createTaskProject:g,editTaskForm:f,cancelEditButton:j,addToTaskArr:e=>{I.push(e)},addToProjectArr:e=>{B.push(e)},myTasks:I,myProjects:B,removeTaskFromArr:e=>{for(let t=0;t<I.length;t++)I[t].id===e&&I.splice(t,1)},removeProjectFromArr:e=>{for(let t=0;t<B.length;t++)B[t].id===e&&B.splice(t,1)},loadTask:T,trashHandler:C,viewTaskHandler:q,projectTrashHandler:A,projectHandler:x,checkHandler:D,editTaskHandler:P,editTaskInArr:(e,t,n,d,a)=>{for(let i=0;i<I.length;i++)I[i].id===e&&(I[i].id=e,I[i].title=t,I[i].description=n,I[i].dueDate=d,I[i].project=a)},updateEditId:e=>{b=e},editId:b,editProjectHandler:L,displayTaskButtonsOnHover:w,displayProjectButtonsOnHover:$}})(),u=s;(()=>{const e=document.querySelector(".fa-check"),t=document.querySelector(".fa-ban"),a=document.getElementById("add-project"),i=document.getElementById("add-project-input-container"),l=document.getElementById("edit-task-modal");document.getElementById("edit-task-form"),u.addTask.addEventListener("click",(e=>{u.createTaskModal.style.display="flex"})),u.cancelButton.addEventListener("click",(e=>{u.createTaskModal.style.display="none"})),u.createTaskForm.addEventListener("submit",n),u.addProject.addEventListener("click",(e=>{i.style.display="flex",a.style.display="none"})),e.addEventListener("click",d),t.addEventListener("click",(e=>{i.style.display="none",a.style.display="flex"})),u.cancelEditButton.addEventListener("click",(e=>{e.preventDefault(),l.style.display="none"}))})()})();