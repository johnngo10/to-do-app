(()=>{"use strict";const e=()=>{localStorage.setItem("myTasks",JSON.stringify(v.myTasks))},t=()=>{localStorage.setItem("myProjects",JSON.stringify(v.myProjects))},n=function(e,t){return{id:e,title:t}},d=d=>{d.preventDefault();const a=document.getElementById("create-task-title").value,i=document.getElementById("create-task-description").value,r=document.getElementById("create-task-date").value,l=document.getElementById("create-task-project").value;function o(){return Math.floor(4096*(1+Math.random())).toString(16).substring(1)}const c=o()+"-"+o()+"-"+o(),s={id:c,title:a,description:i,dueDate:r,project:l,checked:!1};v.addTask.insertAdjacentHTML("beforebegin",`\n    <div class="task" data-id="${s.id}">\n      <div class="task-group">\n        <input type="checkbox" class="checkbox" />\n        <p class="task-name">${s.title}</p>\n      </div>\n      <div class="button-date-group">\n        <div class="task-buttons">\n          <div>\n            <i class="far fa-edit edit-task-button"></i>\n          </div>\n          <div>\n            <i class="far fa-trash-alt"></i>\n          </div>\n        </div>\n        <p class="due-date">${s.dueDate}</p>\n      </div>\n    </div>\n  `);const u=[];for(let e=0;e<v.myProjects.length;e++)u.push(v.myProjects[e].title.toLowerCase());if(u.indexOf(l.toLowerCase())<0){const e=document.getElementById("add-project-input-container"),d=o()+"-"+o()+"-"+o(),a=n(d,l);e.insertAdjacentHTML("beforebegin",`\n      <div class="project-group project-hover" data-id="${a.id}">\n        <h3 class="project">${a.title}</h3>\n        <div class="task-buttons">\n          <i class="far fa-edit edit-project-button"></i>\n          <i class="far fa-trash-alt delete-project"></i>\n        </div>\n      </div>\n      `),v.addToProjectArr(a),t(),v.projectTrashHandler(),v.projectHandler(),v.editProjectHandler(),v.displayProjectButtonsOnHover()}v.addToTaskArr(s),v.trashHandler(),v.viewTaskHandler(),v.checkHandler(),v.editTaskHandler(),v.displayTaskButtonsOnHover(),e(),v.createTaskModal.style.display="none"},a=()=>{const e=document.getElementById("add-project-input-container"),d=document.getElementById("add-project");let a=document.getElementById("add-project-input").value;function i(){return Math.floor(4096*(1+Math.random())).toString(16).substring(1)}const r=i()+"-"+i()+"-"+i(),l=n(r,a);e.insertAdjacentHTML("beforebegin",`\n    <div class="project-group project-hover" data-id="${l.id}">\n      <h3 class="project">${l.title}</h3>\n      <div class="task-buttons">\n        <i class="far fa-edit edit-project-button"></i>\n        <i class="far fa-trash-alt delete-project"></i>\n      </div>\n    </div>\n    `),e.style.display="none",d.style.display="flex",v.addToProjectArr(l),t(),v.projectTrashHandler(),v.projectHandler(),v.editProjectHandler(),v.displayProjectButtonsOnHover()},i=e=>{const t=document.getElementById("edit-task-modal"),n=document.getElementById("edit-task-title"),d=document.getElementById("edit-task-description"),a=document.getElementById("edit-task-date"),i=document.getElementById("edit-task-project"),r=e.target.parentElement.parentElement.parentElement.parentElement.getAttribute("data-id"),l=JSON.parse(localStorage.getItem("myTasks")).filter((e=>e.id===r));t.style.display="flex",n.value=l[0].title,d.value=l[0].description,a.value=l[0].dueDate,i.value=l[0].project,v.updateEditId(r)},r=t=>{const n=t.target.parentElement.parentElement.parentElement.parentElement,d=n.getAttribute("data-id");v.removeTaskFromArr(d),e(),n.remove()},l=e=>{const t=document.getElementById("view-task-title"),n=document.getElementById("view-task-description"),d=document.getElementById("view-due-date"),a=document.getElementById("view-project"),i=e.target.parentElement.parentElement.getAttribute("data-id"),r=v.myTasks.filter((e=>e.id===i));t.textContent=r[0].title,n.textContent=r[0].description,d.textContent=`Due Date: ${r[0].dueDate}`,a.textContent=`Project: ${r[0].project}`;const l=document.getElementById("view-task-modal");l.style.display="flex",document.getElementById("edit-button").addEventListener("click",(e=>{const t=document.getElementById("edit-task-modal"),n=document.getElementById("edit-task-title"),d=document.getElementById("edit-task-description"),a=document.getElementById("edit-task-date"),o=document.getElementById("edit-task-project");t.style.display="flex",n.value=r[0].title,d.value=r[0].description,a.value=r[0].dueDate,o.value=r[0].project,v.updateEditId(i),l.style.display="none"})),document.getElementById("view-cancel-button").addEventListener("click",(e=>{l.style.display="none"}))},o=()=>{const e=document.querySelectorAll(".checkbox");for(let t=0;t<e.length;t++)e[t].checked?e[t].parentElement.parentElement.classList.add("complete"):e[t].parentElement.parentElement.classList.remove("complete")},c=e=>{const n=e.target.parentElement.parentElement,d=n.getAttribute("data-id");v.removeProjectFromArr(d),n.remove(),t()},s=t=>{const n=t.target.textContent.toLowerCase(),d=v.myTasks,a=document.querySelectorAll(".task"),i=document.getElementById("add-task"),r=[],l=()=>{const t=document.querySelectorAll(".checkbox");for(let n=0;n<t.length;n++)t[n].addEventListener("click",(t=>{const n=t.target,d=n.parentElement.parentElement,a=!!n.checked&&"checked",i=d.getAttribute("data-id");for(let e=0;e<r.length;e++)r[e].id===i&&(r[e].checked=a);e(),o()}))};for(let e=0;e<a.length;e++)a[e].remove();for(let e=0;e<d.length;e++)d[e].project.toLowerCase()===n&&r.push(d[e]);for(let e=0;e<r.length;e++)i.insertAdjacentHTML("beforebegin",`\n      <div class="task" data-id="${r[e].id}">\n        <div class="task-group">\n          <input type="checkbox" class="checkbox" ${r[e].checked}/>\n          <p class="task-name">${r[e].title}</p>\n        </div>\n        <div class="button-date-group">\n          <div class="task-buttons">\n            <div>\n              <i class="far fa-edit edit-task-button"></i>\n            </div>\n            <div>\n              <i class="far fa-trash-alt"></i>\n            </div>\n          </div>\n          <p class="due-date">${r[e].dueDate}</p>\n        </div>\n      </div>\n    `),l(),o();v.trashHandler(),v.viewTaskHandler(),v.editTaskHandler(),v.displayTaskButtonsOnHover()},u=e=>{const n=document.getElementById("edit-project-input");document.getElementById("submit-project-edit").addEventListener("click",(d=>{v.editProjectInArr(e,n.value),t(),d.target.parentElement.parentElement.outerHTML=`\n      <div class="project-group project-hover" data-id="${e}">\n        <h3 class="project">${n.value}</h3>\n        <div class="task-buttons">\n          <i class="far fa-edit edit-project-button"></i>\n          <i class="far fa-trash-alt delete-project"></i>\n        </div>\n      </div>\n      `,v.projectTrashHandler(),v.projectHandler(),v.editProjectHandler(),v.displayProjectButtonsOnHover()}))},p=e=>{const t=document.getElementById("exit-project-edit"),n=document.querySelector(`[data-id="${e}"]`),d=JSON.parse(localStorage.getItem("myProjects")).filter((t=>t.id===e));t.addEventListener("click",(t=>{n.outerHTML=`\n      <div class="project-group project-hover" data-id="${e}">\n        <h3 class="project">${d[0].title}</h3>\n        <div class="task-buttons">\n          <i class="far fa-edit edit-project-button"></i>\n          <i class="far fa-trash-alt delete-project"></i>\n        </div>\n      </div>\n      `,v.projectTrashHandler(),v.projectHandler(),v.editProjectHandler(),v.displayProjectButtonsOnHover()}))},m=(()=>{document.getElementById("content").innerHTML='\n  <main id="main">\n    <div id="col-1">\n      <div id="project-container">\n        <div id="project-header">\n          <h3>Projects</h3>\n        </div>\n        <div class="project-group-all">\n          <h3 id="all-project">All</h3>\n        </div>\n        <div id="add-project-input-container">\n          <input type="text" id="add-project-input" />\n          <div class="add-project-buttons">\n            <i class="fas fa-check"></i>\n            <i class="fas fa-ban"></i>\n          </div>\n        </div>\n        <div id="add-project">\n          <p id="plus">&#x2B;</p>\n          <p id="add-project-text">Add Project</p>\n        </div>\n      </div>\n    </div>\n    <div id="col-2">\n      <div id="task-container">\n        <div id="task-header">\n          <p>Task</p>\n          <p>Due Date</p>\n        </div>\n        <div id="add-task">\n          <p id="plus">&#x2B;</p>\n          <p id="add-task-text">Add Task</p>\n        </div>\n      </div>\n    </div>\n  </main>\n  <div id="create-task-modal">\n    <form action="#" id="create-task-form">\n      <div id="create-task-group-1">\n        <input type="text" placeholder="Add a task" required id="create-task-title" name="title"/>\n        <textarea\n          name="description"\n          id="create-task-description"\n          placeholder="Description"\n        ></textarea>\n      </div>\n      <div id="create-task-group-2">\n        <input type="date" id="create-task-date" name="date" required />\n        <input type="text" id="create-task-project" />\n      </div>\n      <div id="create-task-group-3">\n        <button id="cancel-button">Cancel</button>\n        <input type="submit" id="submit-button" />\n      </div>\n    </form>\n  </div>\n  <div id="view-task-modal">\n    <div id="view-task-container">\n      <p id="view-task-title"></p>\n      <p id="view-task-description"></p>\n      <div id="view-task-date-project">\n        <p id="view-due-date">Due Date:</p>\n        <p id="view-project">Project:</p>\n      </div>\n      <div id="create-task-group-3">\n        <button id="view-cancel-button">Cancel</button>\n        <input type="submit" id="edit-button" value="Edit" />\n      </div>\n    </div>\n  </div>\n  <div id="edit-task-modal">\n    <form action="#" id="edit-task-form">\n      <div id="edit-task-group-1">\n        <input type="text" placeholder="Add a task" required id="edit-task-title" name="title" />\n        <textarea\n          name="description"\n          id="edit-task-description"\n          placeholder="Description"\n        ></textarea>\n      </div>\n      <div id="edit-task-group-2">\n        <input type="date" id="edit-task-date" name="date" required />\n        <input type="text" id="edit-task-project"/>\n      </div>\n      <div id="create-task-group-3">\n        <button id="cancel-edit-button">Cancel</button>\n        <input type="submit" id="submit-edit-button" />\n      </div>\n    </form>\n  </div>\n  ';const t=document.getElementById("add-project"),n=document.getElementById("add-task"),d=document.getElementById("create-task-modal"),a=document.getElementById("cancel-button"),v=document.getElementById("create-task-form"),k=document.getElementById("create-task-title").value,y=document.getElementById("create-task-description").value,g=document.getElementById("create-task-date").value,j=document.getElementById("create-task-project").value,E=document.getElementById("add-project-input-container"),f=document.getElementById("edit-task-form"),h=document.getElementById("edit-task-modal"),b=document.getElementById("cancel-edit-button");let I,B=[],T=[];const A=()=>{for(let e=0;e<B.length;e++)n.insertAdjacentHTML("beforebegin",`\n        <div class="task" data-id="${B[e].id}">\n          <div class="task-group">\n            <input type="checkbox" class="checkbox" ${B[e].checked}/>\n            <p class="task-name">${B[e].title}</p>\n          </div>\n          <div class="button-date-group">\n            <div class="task-buttons">\n              <div>\n                <i class="far fa-edit edit-task-button"></i>\n              </div>\n              <div>\n                <i class="far fa-trash-alt"></i>\n              </div>\n            </div>\n            <p class="due-date">${B[e].dueDate}</p>\n          </div>\n        </div>\n      `)},H=()=>{const e=document.querySelectorAll(".project");document.getElementById("all-project").addEventListener("click",(e=>{const t=document.querySelectorAll(".task");for(let e=0;e<t.length;e++)t[e].remove();A(),P(),$(),C(),o(),q(),w()}));for(let t=0;t<e.length;t++)e[t].addEventListener("click",s)},x=()=>{const e=document.querySelectorAll(".delete-project");for(let t=0;t<e.length;t++)e[t].addEventListener("click",c)},L=()=>{const e=document.querySelectorAll(".edit-project-button");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(e=>{const t=e.target,n=t.parentElement.parentElement,d=n.getAttribute("data-id"),a=t.parentElement.previousElementSibling.textContent;n.outerHTML=`\n        <div id="edit-project-input-container" data-id="${d}">\n          <input type="text" id="edit-project-input" value="${a}"/>\n          <div class="add-project-buttons">\n            <i class="fas fa-check" id="submit-project-edit"></i>\n            <i class="fas fa-ban" id="exit-project-edit"></i>\n          </div>\n        </div>\n        `,u(d),p(d)}))},S=()=>{const e=document.querySelectorAll(".project-hover");for(let t=0;t<e.length;t++)e[t].addEventListener("mouseenter",(e=>{e.target.lastElementChild.style.display="flex"}));for(let t=0;t<e.length;t++)e[t].addEventListener("mouseleave",(e=>{e.target.lastElementChild.style.display="none"}))},P=()=>{const e=document.querySelectorAll(".fa-trash-alt");for(let t=0;t<e.length;t++)e[t].addEventListener("click",r)},$=()=>{const e=document.querySelectorAll(".task-name");for(let t=0;t<e.length;t++)e[t].addEventListener("click",l)},C=()=>{const t=document.querySelectorAll(".checkbox");for(let n=0;n<t.length;n++)t[n].addEventListener("click",(t=>{const n=t.target,d=n.parentElement.parentElement,a=!!n.checked&&"checked",i=d.getAttribute("data-id");for(let e=0;e<B.length;e++)B[e].id===i&&(B[e].checked=a);e(),o()}))};f.addEventListener("submit",(t=>{t.preventDefault();const n=document.getElementById("edit-task-title"),d=document.getElementById("edit-task-description"),a=document.getElementById("edit-task-date"),i=document.getElementById("edit-task-project");m.editTaskInArr(I,n.value,d.value,a.value,i.value),e(),h.style.display="none";for(let e=0;e<B.length;e++)if(B[e].id===I){const e=document.querySelector(`[data-id="${I}"]`),t=e.firstElementChild.lastElementChild,d=e.lastElementChild.lastElementChild;t.textContent=n.value,d.textContent=a.value}}));const q=()=>{const e=document.querySelectorAll(".edit-task-button");for(let t=0;t<e.length;t++)e[t].addEventListener("click",i)},w=()=>{const e=document.querySelectorAll(".task");for(let t=0;t<e.length;t++)e[t].addEventListener("mouseenter",(e=>{e.target.lastElementChild.firstElementChild.style.display="flex"}));for(let t=0;t<e.length;t++)e[t].addEventListener("mouseleave",(e=>{e.target.lastElementChild.firstElementChild.style.display="none"}))};if(localStorage.getItem("myTasks")){const e=JSON.parse(localStorage.getItem("myTasks"));B=e,A(),P(),$(),C(),o(),q(),w()}if(localStorage.getItem("myProjects")){const e=JSON.parse(localStorage.getItem("myProjects"));T=e,(()=>{for(let e=0;e<T.length;e++)E.insertAdjacentHTML("beforebegin",`\n        <div class="project-group project-hover" data-id="${T[e].id}">\n          <h3 class="project">${T[e].title}</h3>\n          <div class="task-buttons">\n            <i class="far fa-edit edit-project-button"></i>\n            <i class="far fa-trash-alt delete-project"></i>\n          </div>\n        </div>\n        `)})(),x(),H(),L(),S()}return{addProject:t,addTask:n,createTaskModal:d,cancelButton:a,createTaskForm:v,createTaskTitle:k,createTaskDescription:y,createTaskDate:g,createTaskProject:j,editTaskForm:f,cancelEditButton:b,addToTaskArr:e=>{B.push(e)},addToProjectArr:e=>{T.push(e)},myTasks:B,myProjects:T,removeTaskFromArr:e=>{for(let t=0;t<B.length;t++)B[t].id===e&&B.splice(t,1)},removeProjectFromArr:e=>{for(let t=0;t<T.length;t++)T[t].id===e&&T.splice(t,1)},loadTask:A,trashHandler:P,viewTaskHandler:$,projectTrashHandler:x,projectHandler:H,checkHandler:C,editTaskHandler:q,editTaskInArr:(e,t,n,d,a)=>{for(let i=0;i<B.length;i++)B[i].id===e&&(B[i].id=e,B[i].title=t,B[i].description=n,B[i].dueDate=d,B[i].project=a)},updateEditId:e=>{I=e},editId:I,editProjectHandler:L,displayTaskButtonsOnHover:w,displayProjectButtonsOnHover:S,editProjectInArr:(e,t)=>{for(let n=0;n<T.length;n++)T[n].id===e&&(T[n].title=t)}}})(),v=m;(()=>{const e=document.querySelector(".fa-check"),t=document.querySelector(".fa-ban"),n=document.getElementById("add-project"),i=document.getElementById("add-project-input-container"),r=document.getElementById("edit-task-modal");document.getElementById("edit-task-form"),v.addTask.addEventListener("click",(e=>{v.createTaskModal.style.display="flex"})),v.cancelButton.addEventListener("click",(e=>{v.createTaskModal.style.display="none"})),v.createTaskForm.addEventListener("submit",d),v.addProject.addEventListener("click",(e=>{i.style.display="flex",n.style.display="none"})),e.addEventListener("click",a),t.addEventListener("click",(e=>{i.style.display="none",n.style.display="flex"})),v.cancelEditButton.addEventListener("click",(e=>{e.preventDefault(),r.style.display="none"}))})()})();